<!-- src/app/pages/login/login.html -->
<div class="loading-overlay" *ngIf="isLoading">
  <div class="loading-content">
    <img src="assets/imagens/logoProgestao.png" alt="Logo ProGest" class="loading-logo">
    <div class="progress-bar-indeterminate">
      <div class="progress-track"></div>
    </div>
    <p class="loading-text">Carregando...</p>
  </div>
</div>

<div class="form" [class.blur]="isLoading">
    <div class="leftside">
        <img src="assets/imagens/telaLogin2.png" alt="Tela de login">
    </div>
    <div class="rightside">
        <div class="login-title">
            <img src="assets/imagens/logoProgestao.png" alt="Logo" class="login-logo">
            <h2>ProGest</h2>
        </div>
        <!-- ✅ Removeu o parâmetro do ngSubmit -->
        <form class="input-container" (ngSubmit)="fazerLogin($event)">
            <div class="input">
                <i class="fa fa-user"></i>
                <input
                type="email"
                [(ngModel)]="email"
                name="email"
                placeholder="Email"
                required
                />
            </div>

            <div class="input">
                <i class="fa fa-lock"></i>
                <input
                type="password"
                [(ngModel)]="senha"
                name="senha" 
                placeholder="Senha"
                required
                minlength="6"
                />
            </div>

            <button type="submit" class="login" [disabled]="isLoading">
                {{ isLoading ? 'Entrando...' : 'Entrar' }}
            </button>
        </form>
        
        <!-- ✅ Adicione mensagem de erro -->
        <div *ngIf="errorMessage" class="error-message">
            {{ errorMessage }}
        </div>
    </div>
</div>