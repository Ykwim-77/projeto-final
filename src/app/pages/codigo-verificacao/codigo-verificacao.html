<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Momo+Trust+Sans:wght@200..800&display=swap" rel="stylesheet">
</head>
<div class="form">
  <div class="leftside">
    <img src="assets/imagens/codigoVerificação.png" alt="Tela de login">
  </div>

  <div class="rightside">
    <div class="login-title">
      <img src="assets/imagens/logoProgestao.png" alt="Logo" class="login-logo">
      <h2>ProGest</h2>
    </div>
    <br>

    <div id="texto">
      <h3>Agora digite o código de verificação<br> para continuar</h3>
    </div>

    <form class="input-container" (ngSubmit)="onSubmit($event)">
      <div class="containerCodigo">
        <div class="inputCodigo" *ngFor="let i of [1,2,3,4,5,6]; let idx = index">
          <input 
            #inputRef
            type="text" 
            maxlength="1" 
            pattern="[0-9]*" 
            inputmode="numeric" 
            [(ngModel)]="codigo[idx]"
            name="codigo{{idx+1}}" 
            placeholder="-" 
            required
            (input)="onInput($event, idx)"
            (keydown)="onKeyDown($event, idx)"
            (focus)="onFocus($event)"
            (paste)="onPaste($event)"
          />
        </div>
      </div>

      <div class="errorContainer">
        <div *ngIf="errorMessage" class="error-message">
          {{ errorMessage }}
        </div>
      </div>
      <br>
      <br>

      <div class="buttonContainer">
        <button type="submit" class="login">Próximo</button>
      </div>
      <br>
      <div class="resend-container">
        <p>
          Não recebeu o código? 
          <button type="button" (click)="reenviarCodigo()" class="resend-btn" [disabled]="!podeReenviar">
            {{ podeReenviar ? 'Reenviar código' : 'Reenviar em ' + tempoRestante + 's' }}
          </button>
        </p>
      </div>
    </form>
  </div>
</div>