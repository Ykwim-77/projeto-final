<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap"
    rel="stylesheet">
</head><!-- src/app/pages/login/login.html -->
<div class="form">
  <div class="leftside">
    <img src="assets/imagens/codigoVerificacao.png" alt="Tela de login">
  </div>

  <div class="rightside">
    <div class="login-title">
      <img src="assets/imagens/logoprogestao.png" alt="Logo" class="login-logo">
      <h2>ProGest</h2>
    </div>

    <div id="texto">
      <p>Agora digite o código de verificação<br> para continuar</p>
    </div>
    <br>
    <form class="input-container" (ngSubmit)="onSubmit($event)">
      <div class="containerCodigo">
        <div class="inputCodigo" *ngFor="let i of [1,2,3,4,5,6]; let idx = index">
          <input #inputRef type="text" maxlength="1" pattern="[0-9]*" inputmode="numeric" [(ngModel)]="codigo[idx]"
            name="codigo{{idx+1}}" placeholder="-" required (input)="onInput($event, idx)"
            (keydown)="onKeyDown($event, idx)" (focus)="onFocus($event)" (paste)="onPaste($event)" />
        </div>
      </div>
      <div class="errorContainer">
        <div *ngIf="errorMessage" class="error-message">
          {{ errorMessage }}
        </div>
      </div>

      <div class="buttonContainer">
        <button type="submit" class="login">Próximo</button>
      </div>
      <div class="resend-container">
        <p>
          Não recebeu o código?
          <button type="button" (click)="reenviarCodigo()" class="resend-btn" [disabled]="!podeReenviar">
            {{ podeReenviar ? 'Reenviar código' : 'Reenviar em ' + tempoRestante + 's' }}
          </button>
        </p>
      </div>
    </form>
    <div class="indicators">
      <ul>
        <li [class.active]="currentStep === 0"></li>
        <li [class.active]="currentStep === 1"></li>
        <li [class.active]="currentStep === 2"></li>
      </ul>
    </div>
  </div>
</div>